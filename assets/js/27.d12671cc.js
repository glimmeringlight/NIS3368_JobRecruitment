(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{310:function(s,t,a){"use strict";a.r(t);var e=a(10),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"启动项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动项目"}},[s._v("#")]),s._v(" 启动项目")]),s._v(" "),t("h2",{attrs:{id:"基础环境依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础环境依赖"}},[s._v("#")]),s._v(" 基础环境依赖")]),s._v(" "),t("p",[s._v("项目基于"),t("code",[s._v("django4.2.5")]),s._v("框架进行开发，因而需要确保运行环境中的"),t("code",[s._v("python>=3.8")]),s._v("。")]),s._v(" "),t("h2",{attrs:{id:"数据库配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库配置"}},[s._v("#")]),s._v(" 数据库配置")]),s._v(" "),t("h3",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[s._v("#")]),s._v(" MySQL")]),s._v(" "),t("p",[s._v("项目开发中使用"),t("code",[s._v("mysql>=5.7")]),s._v("作为数据库存储用户数据。首先，请登录数据库管理系统创建一个数据库供项目使用，其中，数据库的名字可以是任意的：")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" jobrecruitment "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARSET")]),s._v(" utf8 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" utf8_general_ci"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("而后，在"),t("code",[s._v("JobRecruitment/")]),s._v("下创建"),t("code",[s._v("local_settings.py")]),s._v("文件，用于存放自定义配置：")]),s._v(" "),t("div",{staticClass:"language-python extra-class"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# local_settings.py")]),s._v("\n\nDATABASES "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'default'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ENGINE'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.db.backends.mysql'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NAME'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jobrecruitment'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据库名字")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'USER'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户名")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PASSWORD'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户密码")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'HOST'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'127.0.0.1'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MySQL ip")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PORT'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3306'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 端口号")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'TEST': {")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     'NAME': 'django_db_test'  # 用于单元测试的数据库")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# }")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),t("p",[s._v("这里存放在"),t("code",[s._v("local_settings.py")]),s._v("是为了保证隐私安全，"),t("code",[s._v(".gitignore")]),s._v("已经将该文件忽略，不会上传至git。")])]),s._v(" "),t("h3",{attrs:{id:"其它数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其它数据库"}},[s._v("#")]),s._v(" 其它数据库")]),s._v(" "),t("p",[s._v("如果使用的不是MySQL，该项目也就不依赖"),t("code",[s._v("pymysql")]),s._v("，可不下载；同时，请删除"),t("code",[s._v("/JobRecruitment/init.py")]),s._v("中的"),t("strong",[s._v("所有")]),s._v("代码：")]),s._v(" "),t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(" import pymysql\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(" pymysql.install_as_MySQLdb()\n")])])])])]),t("p",[s._v("而后，再根据不同的数据库配置"),t("code",[s._v("local_settings.py")]),s._v("。")]),s._v(" "),t("h2",{attrs:{id:"邮件服务配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#邮件服务配置"}},[s._v("#")]),s._v(" 邮件服务配置")]),s._v(" "),t("p",[s._v("为保证网站安全性，在部分敏感操作界面均设计了邮件验证码。为了保证这部分功能可用，需要进行邮件服务配置。在"),t("code",[s._v("/Jobrecruitment/local_settings.py")]),s._v("中配置：")]),s._v(" "),t("div",{staticClass:"language-python extra-class"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /Jobrecruitment/local_settings.py")]),s._v("\n\nEMAIL_HOST "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务器，例如QQ邮箱：smtp.qq.com")]),s._v("\nEMAIL_PORT "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一般情况下都为25")]),s._v("\nEMAIL_HOST_USER "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user@example.com"')]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 账号")]),s._v("\nEMAIL_HOST_PASSWORD "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 您的授权码")]),s._v("\nEMAIL_USE_TLS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),s._v("\nEMAIL_FROM "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user@example.com"')]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 邮箱来自（这里是和账号一样的）")]),s._v("\nEMAIL_TITLE "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'邮箱激活'")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 邮件标题")]),s._v("\n")])])]),t("h2",{attrs:{id:"快速启动环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速启动环境"}},[s._v("#")]),s._v(" 快速启动环境")]),s._v(" "),t("p",[s._v("首先，为项目安装需要的依赖包，运行：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("pip "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" ./requirements.txt\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("如果"),t("code",[s._v("pip install")]),s._v("过程中提示部分包找不到指定版本，优先考虑更换镜像源；或者，从"),t("code",[s._v("requirements.txt")]),s._v("中移除对于版本的要求也可。")])]),s._v(" "),t("p",[s._v("而后，执行下面的命令完成数据库的迁移：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("python manage.py makemigrations\npython manage.py migrate\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("如果后台管理员需要直接控制数据，不必在数据库管理系统中管理，可以新建超级用户并通过"),t("code",[s._v("/admin/")]),s._v("访问后台界面：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("python manage.py createsuperuser\n")])])])]),s._v(" "),t("p",[s._v("最后，运行下面的命令在"),t("code",[s._v("8000")]),s._v("端口启动项目：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("python manage.py runserver "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8000")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);